<form novalidate class="w-96" [formGroup]="form" (ngSubmit)="onSubmit()">
  <fieldset class="border p-2">
    <article class="flex justify-start items-center">
      <select
        input
        class="rounded-md h-8 text-sm py-1 max-w-xs me-2"
        formControlName="type"
        (ngModelChange)="onChangeContactInfoType($event, form.get('value'))"
      >
        <option value="Phone">Phone</option>
        <option value="E-mail">E-mail</option>
        <option value="Fax">Fax</option>
        <option value="Website">Website URL</option>
      </select>
      <div *ngIf="form.get('type')?.value === 'Phone' || form.get('type')?.value === 'Fax'" class="flex">
        <select input class="rounded-md rounded-e-none h-8 text-sm py-1 w-22" formControlName="prefix">
          <option *ngFor="let item of cache.masterData?.countries" [value]="item.phonePrefix">
            {{ item.phonePrefix }}
          </option>
        </select>
        <input type="number" formControlName="value" class="rounded-md rounded-s-none h-8 text-sm py-1 w-full" />
      </div>
      <div *ngIf="form.get('type')?.value === 'E-mail'" class="w-full">
        <input
          type="email"
          formControlName="value"
          class="rounded-md text-sm py-1 w-full"
          placeholder="text@example.com"
        />
      </div>
      <div *ngIf="form.get('type')?.value === 'Website'" class="w-full">
        <input
          type="url"
          formControlName="value"
          class="rounded-md text-sm py-1 w-full"
          placeholder="https://test.com"
        />
      </div>
    </article>
    <app-form-error [control]="form.get('value')" class="text-right">
      <small required>Value is required</small>
      <small invalidUrl>Website URL must be in format https://test.com</small>
      <small invalidEmail>E-mail must be in format test@example.com</small>
      <small invalidPhone>Phone number must be in format 12345678</small>
    </app-form-error>
    <section class="text-right mt-2">
      <button
        type="submit"
        [disabled]="form.invalid || form.pristine"
        class="border rounded-md px-2 py-1 bg-blue-500 text-white whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Submit
      </button>
    </section>
  </fieldset>
</form>
